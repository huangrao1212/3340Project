```{r}
install.packages("ggplot2")
install.packages("olsrr")
```

```{r}
library(readr)
library(ggplot2)
datasetfull <- read_csv("/Users/richard/Documents/study/20fall/3340/project/insurance.csv")
```
```{r}
keep<-c('age','bmi','children','charges')
num_data<-subset(datasetfull, select=keep)
cor(num_data)
```
```{r}
pairs(~age+bmi+children+charges,data=datasetfull)
```

```{r}
install.packages("tidyverse")
library(tidyverse)
ggplot(data = datasetfull, aes(x = sex, y = charges)) + geom_point()
```

```{r}
ggplot(data = datasetfull, aes(x = children, y = charges)) + geom_point()
```

```{r}
ggplot(data = datasetfull, aes(x = smoker, y = charges)) + geom_point()
```

```{r}
ggplot(data = datasetfull, aes(x = region, y = charges)) + geom_point()
```


```{r}
datasetfull[nrow(datasetfull) + 1,] <- list(22,"female",23.71,0,"no","northeast",5503.7768)
```

```{r}
unique(datasetfull$region)
```

```{r}
datasetfull$sex=as.factor(datasetfull$sex)
datasetfull$sex_male <- ifelse(datasetfull$sex == "male", 1, 0)
datasetfull$sex_female <- ifelse(datasetfull$sex == "female", 1, 0)
datasetfull$region_southwest <- ifelse(datasetfull$region == "southwest", 1, 0)
datasetfull$region_southeast <- ifelse(datasetfull$region == "southeast", 1, 0)
datasetfull$region_northwest <- ifelse(datasetfull$region == "northwest", 1, 0)
datasetfull$region_northeast <- ifelse(datasetfull$region == "northeast", 1, 0)
datasetfull <- subset(datasetfull, select = -c(sex, region))
```